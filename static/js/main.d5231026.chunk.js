(this.webpackJsonpviade_es1c=this.webpackJsonpviade_es1c||[]).push([[0],{1056:function(e,t){},1057:function(e,t){},1145:function(e,t,a){},1146:function(e,t,a){},1147:function(e,t,a){},1148:function(e,t,a){},1149:function(e,t,a){},1150:function(e,t,a){},1151:function(e,t,a){},1152:function(e,t,a){},1166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(38),i=a.n(s),c=(a(594),a(595),a(596),a(574)),o=a(138),l=a(2),u=a.n(l),d=a(11),m=a(13),p=a(14),h=a(39),f=a(29),b=a(62),v=a(41),g=a(31),E=a.n(g),x=a(48),k=a.n(x),w=function(){function e(){Object(m.a)(this,e),this.webId=null,this.viadeRoute=15,this.errorReadPermission=null,this.warning=null,this.success=null}return Object(p.a)(e,[{key:"getSessionId",value:function(e){null!==e&&(this.webId=e.webId)}},{key:"getSession",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.trackSession((function(e){e&&(t.session=e)}));case 2:this.getSessionId(this.session);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writePermission",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new k.a(E.a),t=t.concat("/test.ttl"),e.next=4,a.createFile(t,null);case 4:return e.next=6,a.delete(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"readPermission",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n=new k.a(E.a),e.next=4,n.readFile(t).then((function(e){a=!0}),(function(e){return r.errorReadPermission="Error en el permission".concat(e)}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoutesNames",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.files.length)this.warning="No hay contenido";else{for(r=0;r<t.files.length;r++)0===(a=t.files[parseInt(r)].name.split("."))[a.length-1].localeCompare("json")&&n.push(t.files[parseInt(r,10)].name.slice(0,t.files[parseInt(r,10)].name.length-5));this.success="Cargo rutas"}case 1:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),y=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).points=[],e.elevationsValues=[],e.urlRouteInPod=null,e.routes=[],e.extension=null,e.session=null,e.warning=null,e.success=null,e.error=null,e.errorLoad=!1,e.existsMultimedia=!0,e.existsVideo=!1,e.existsImage=!1,e.HTMLElement=null,e.images=[],e.permissionsImage=!1,e.permissionsVideo=!1,e.videos=[],e.permission=null,e.mostrar=!0,e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getMyRoutesFromPod",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPodRoute("viade/routes/");case 2:return t=new k.a(E.a),e.prev=3,e.next=6,t.readFolder(this.urlRouteInPod,null);case 6:return this.content=e.sent,e.next=9,this.getRoutesNames(this.content,this.extension,this.routes);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.errorLoad=!0;case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSharedRoutesFromPod",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPodRoute("viade/shared/");case 2:return t=new k.a(E.a),e.prev=3,e.next=6,t.readFolder(this.urlRouteInPod,null);case 6:return this.content=e.sent,e.next=9,this.getRoutesNames(this.content,this.extension,this.routes);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.errorLoad=!0;case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPodRoute",value:function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(f.a)(t.prototype),"getSession",this).call(this);case 2:this.urlRouteInPod=this.webId.slice(0,this.webId.length-this.viadeRoute).concat(a),null!==this.HTMLElement&&(n=this.HTMLElement.value.concat(".json"),this.urlRouteInPod=this.urlRouteInPod.concat(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fillMap",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.HTMLElement=a,0!==t.localeCompare("Mis rutas")){e.next=6;break}return e.next=4,this.getPodRoute("viade/routes/");case 4:e.next=9;break;case 6:if(0!==t.localeCompare("Compartidas")){e.next=9;break}return e.next=9,this.getPodRoute("viade/shared/");case 9:return n=new k.a(E.a),e.prev=10,e.next=13,n.readFile(this.urlRouteInPod,null);case 13:return this.content=e.sent,e.next=16,this.getPointsToPrint(this.content);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),this.error="Error al pillar datos";case 21:case"end":return e.stop()}}),e,this,[[10,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getPointsToPrint",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=JSON.parse(t),n=null,r=null,s=null,i=a.points.length,c=0;c<i;c++)n=a.points[parseInt(c,10)].latitude,r=a.points[parseInt(c,10)].longitude,this.points.push([n,r]),s=a.points[parseInt(c,10)].elevation,this.elevationsValues.push({x:"P".concat(c+1),y:parseInt(s,10)});return e.next=8,this.getMultimedia(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMultimedia",value:function(){var e=Object(d.a)(u.a.mark((function e(a){var n,r,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,r=null,s=null,i=null,!("undefined"!==typeof a.media&&a.media.length>0)){e.next=54;break}e.t0=u.a.keys(a.media);case 6:if((e.t1=e.t0()).done){e.next=52;break}if(null===(c=e.t1.value)){e.next=50;break}if(n=a.media[c]["@id"],r=n.split("."),0!==(s=".".concat(r[r.length-1])).localeCompare(".jpg")&&0!==s.localeCompare(".png")&&0!==s.localeCompare(".jpeg")){e.next=32;break}return e.prev=13,this.existsImage=!0,n.replace("/viade/resources/","/card#me"),i=n,e.next=19,Object(b.a)(Object(f.a)(t.prototype),"readPermission",this).call(this,i);case 19:if(!e.sent){e.next=24;break}this.permissionsImage=!0,this.images.push(n),e.next=25;break;case 24:this.permissionsImage=!1;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(13),this.permissionsImage=!1;case 30:e.next=50;break;case 32:if(0!==s.localeCompare(".mp4")){e.next=50;break}return e.prev=33,this.existsVideo=!0,n.replace("/viade/resources/","/card#me"),i=n,e.next=39,Object(b.a)(Object(f.a)(t.prototype),"readPermission",this).call(this,i);case 39:if(!e.sent){e.next=44;break}this.permissionsVideo=!0,this.videos.push(n),e.next=45;break;case 44:this.permissionsVideo=!1;case 45:e.next=50;break;case 47:e.prev=47,e.t3=e.catch(33),this.permissionsVideo=!1;case 50:e.next=6;break;case 52:e.next=55;break;case 54:this.existsMultimedia=!1;case 55:case"end":return e.stop()}}),e,this,[[13,27],[33,47]])})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),j=a(27),O=a(1237),N=a(1238),I=a(1233),T=a(1205),M=a(1239),P=a(1227),C=a(1234),R=a(1241),S=a(1222),L=a(1203),F=a(1204),B=a(545),V=a(556),D=a(45),H=a(56),U=a.n(H),W=a(260),_=function(e){var t=e.id,a=e.options,n=e.defaultValue,s=e.onChange,i=Object(W.a)(e,["id","options","defaultValue","onChange"]);return r.a.createElement("div",{className:""},r.a.createElement("select",Object.assign({id:t,value:n,onChange:s},i),a&&a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))},A=a(23),z=a(541),G=a.n(z),J=a(542),q=a.n(J),X=a(543),Y=a.n(X);a(641),a(642),a(345);delete U.a.Icon.Default.prototype._getIconUrl,U.a.Icon.Default.mergeOptions({iconRetinaUrl:a(643),iconUrl:a(644),shadowUrl:a(645)});var K,Q=0,Z=function(e){var t=e.service,a=Object(D.b)().t,s=Object(n.useState)(11),i=Object(j.a)(s,2),c=i[0],o=i[1],l=Object(n.useState)(),m=Object(j.a)(l,2),p=m[0],h=m[1],f=Object(n.useState)([43.354444,-5.851667]),b=Object(j.a)(f,2),v=b[0],g=b[1],E=Object(n.useState)(0),x=Object(j.a)(E,2),k=x[0],w=x[1],H=Object(n.useState)(0),U=Object(j.a)(H,2),W=U[0],z=U[1],J=Object(n.useState)([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useState)([]),te=Object(j.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),se=Object(j.a)(re,2),ie=se[0],ce=se[1],oe=Object(n.useState)(!1),le=Object(j.a)(oe,2),ue=le[0],de=le[1],me=Object(n.useState)(0),pe=Object(j.a)(me,2),he=pe[0],fe=pe[1],be=Object(n.useState)(!1),ve=Object(j.a)(be,2),ge=ve[0],Ee=ve[1],xe=Object(n.useState)([]),ke=Object(j.a)(xe,2),we=ke[0],ye=ke[1],je=Object(n.useCallback)((function(e){fe(e),Ee(!0)}),[]),Oe=Object(n.useState)(!1),Ne=Object(j.a)(Oe,2),Ie=Ne[0],Te=Ne[1],Me=Object(n.useState)(!1),Pe=Object(j.a)(Me,2),Ce=Pe[0],Re=Pe[1],Se=Object(n.useState)([]),Le=Object(j.a)(Se,2),Fe=Le[0],Be=Le[1],Ve=Object(n.useState)(""),De=Object(j.a)(Ve,2),He=De[0],Ue=De[1],We=Object(n.useState)(!1),_e=Object(j.a)(We,2),Ae=_e[0],ze=_e[1],Ge=Object(n.useState)(!0),Je=Object(j.a)(Ge,2),qe=Je[0],Xe=Je[1];function Ye(){"undefined"!==typeof K&&(0===K.localeCompare("Compartidas")?document.getElementById("radio-2").checked=!0:0===K.localeCompare("Mis rutas")&&(document.getElementById("radio-1").checked=!0))}function Ke(){return(Ke=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t)instanceof y&&(n=new y),!0!==document.getElementById("radio-1").checked){e.next=8;break}return K="Mis rutas",e.next=6,n.getMyRoutesFromPod();case 6:e.next=12;break;case 8:if(!0!==document.getElementById("radio-2").checked){e.next=12;break}return K="Compartidas",e.next=12,n.getSharedRoutesFromPod();case 12:null!==n.warning?A.NotificationManager.warning(a("routes.loadWarningMessage"),a("routes.loadWarningTitle"),3e3):n.errorLoad||"undefined"===typeof K?A.NotificationManager.error(a("routes.errorLoadMessage"),a("routes.errorLoadTitle"),3e3):(Xe(!1),A.NotificationManager.success(a("routes.successLoadMessage"),a("routes.successLoadTitle"),2e3),$(n.routes)),Ye();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){Te(!1),de(!1),e.videos.length>0||e.images.length>0?(e.images.length>0&&(de(!0),ye(e.images)),e.videos.length>0&&(Te(!0),Be(e.videos),Ue(e.videos[parseInt(Q)]))):(de(!1),Te(!1),e.permissionsImage||!0!==e.existsImage||A.NotificationManager.error(a("routes.imageErrorMessage"),a("routes.imageErrorTitle"),3e3),e.permissionsVideo||!0!==e.existsVideo||A.NotificationManager.error(a("routes.videoErrorMessage"),a("routes.videoErrorTitle"),3e3))}function Ze(){return(Ze=Object(d.a)(u.a.mark((function e(){var n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!0),(n=t)instanceof y&&(n=new y),e.next=5,n.fillMap(K,document.getElementById("selectRoute"));case 5:null!=n.error?A.NotificationManager.error(a("routes.errorMessage"),a("routes.errorTitle"),3e3):(r=n.points,s=n.elevationsValues,w(r[0]),z(r[r.length-1]),g(r[0]),h(r),o(11),ne(s),!0===n.mostrar&&ce(!0),!0===n.existsMultimedia&&Qe(n)),ze(!1),Ye();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("section",{"data-testid":"visualizeTest"},r.a.createElement(Y.a,{active:Ae,spinner:!0,text:a("routes.loading")},r.a.createElement(L.a,{"data-testid":"containerVisualTest"},r.a.createElement(F.a,null,r.a.createElement("h1",{className:"myH1"},a("routes.title"))),r.a.createElement(F.a,null,r.a.createElement(B.a,{sm:10},r.a.createElement(F.a,{"data-testid":"visualizeTest2"},!ge&&r.a.createElement(O.a,{className:"map",center:v,zoom:c},r.a.createElement(N.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),ie&&r.a.createElement("div",null,r.a.createElement(I.a,{color:"blue",positions:p}),r.a.createElement(T.a,{position:k},r.a.createElement(M.a,null,a("routes.origin"))),r.a.createElement(T.a,{position:W},r.a.createElement(M.a,null,a("routes.target")))))),r.a.createElement(F.a,null,ie&&r.a.createElement(B.a,null,r.a.createElement(F.a,null,r.a.createElement("h4",{id:"h4PerfilElevacion",className:"h4-format"},a("routes.histogram"))),r.a.createElement(F.a,null,r.a.createElement(P.a,{style:{parent:{maxWidth:"80%"}},domainPadding:10,theme:C.a.material},r.a.createElement(R.a,{colorScale:"cool"},r.a.createElement(S.a,{data:ae}))))),r.a.createElement(B.a,null,(ue||Ie)&&r.a.createElement(F.a,null,r.a.createElement("h4",{className:"h4-format"},a("routes.multimedia"))),ue&&r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement("div",{className:"img_viewer formal-div"},we.map((function(e,t){return r.a.createElement("img",{"data-testid":"btnImagenTest",className:"my_Img",src:e,onClick:function(){return je(t)},width:"90",id:""+t,key:t,alt:""})})),ge&&r.a.createElement(G.a,{src:we,currentIndex:he,onClose:function(){fe(0),Ee(!1)}})))),Ie&&r.a.createElement(F.a,null,r.a.createElement("div",{className:"formal-div"},r.a.createElement(q.a,{playing:Ce,className:"player-format",url:He,width:"auto",height:"230px"}),r.a.createElement(V.a,{"data-testid":"btnPowerOnTest",className:"button-margin",onClick:function(){Re(!0)}},a("routes.play")),r.a.createElement(V.a,{"data-testid":"btnPowerOffTest",className:"button-margin",onClick:function(){Re(!1)}},a("routes.stop")),r.a.createElement(V.a,{"data-testid":"btnNextTest",className:"button-margin",onClick:function(){Q+1<=Fe.length-1&&Fe.length>1&&(Q++,Ue(Fe[parseInt(Q,10)]))}},a("routes.next")),r.a.createElement(V.a,{"data-testid":"btnPreviousTest",className:"button-margin",onClick:function(){Q>0&&(Q--,Ue(Fe[parseInt(Q)]))}},a("routes.previous"))))))),r.a.createElement(B.a,null,r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement("label",{"data-testid":"label1Test",className:"radio-format",name:"filter-label"},r.a.createElement("input",{"data-testid":"inputLabel1",name:"filter-radio",id:"radio-1",type:"radio",checked:!0,onChange:Ye}),a("routes.myTracks")),r.a.createElement("label",{className:"radio-format",name:"filter-label"},r.a.createElement("input",{"data-testid":"inputLabel2",name:"filter-radio",id:"radio-2",type:"radio"}),a("routes.shared"))),r.a.createElement(V.a,{id:"loadButton","data-testid":"btn1VTest",className:"visualizeButton",variant:"primary",onClick:function(){return Ke.apply(this,arguments)}},a("routes.loadButton")),r.a.createElement("h3",null,a("routes.select")),r.a.createElement(_,{"data-testid":"combo",className:"select-format",id:"selectRoute",options:Z}),r.a.createElement("div",null,r.a.createElement(V.a,{id:"visualizeRouteButton","data-testid":"btn2VTest",className:"visualizeButton",onClick:function(){return Ze.apply(this,arguments)},disabled:qe},a("routes.button")))))),r.a.createElement(A.NotificationContainer,null))))},$=function(){return r.a.createElement(Z,{service:new y})},ee=(a(748),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).HTMLElement=null,e.error=!1,e.success=!1,e.errorPermissions=!1,e.urlRouteInPod=null,e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getPodRoute",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(f.a)(t.prototype),"getSession",this).call(this);case 2:this.urlRouteInPod=this.webId.slice(0,this.webId.length-this.viadeRoute).concat("viade/routes");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processFile",value:function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new FileReader,s=this.viadeRoute,r.onload=function(){var e=this,t=r.result,i=a(31);i.trackSession((function(a){if(a){var r=a.webId,c=r.slice(0,r.length-s).concat("viade/routes/").concat(n);new k.a(i).createFile(c,t,"text/turtle",{}).then((function(){})).catch((function(t){return e.error=!0}))}}))},r.readAsText(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"processTrack",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,n=t.name,n.split(".")[1].localeCompare("json")){e.next=9;break}return 0===a&&(this.success=!0,a++),e.next=7,this.processFile(t,n);case 7:e.next=10;break;case 9:this.error=!0;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processMultipleTrack",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.processTrack(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUpload",value:function(){var e=Object(d.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.HTMLElement=a,n=this.HTMLElement,r=n.files,e.next=5,this.getPodRoute();case 5:return e.prev=5,e.next=8,Object(b.a)(Object(f.a)(t.prototype),"writePermission",this).call(this,this.urlRouteInPod);case 8:return e.next=10,this.processMultipleTrack(r);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),this.errorPermissions=!0;case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()}]),t}(w)),te=function(e){var t=e.service,a=Object(D.b)().t;function n(){return(n=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t)instanceof ee&&(n=new ee),e.next=4,n.handleUpload(document.getElementById("fileArea"));case 4:n.success?(A.NotificationManager.success(a("upload.successMessage"),a("upload.successTitle"),2e3),document.getElementById("fileArea").value=""):n.error?A.NotificationManager.error(a("upload.errorMessage"),a("upload.errorTitle"),3e3):""===document.getElementById("fileArea").value?A.NotificationManager.error(a("upload.errorEmptyMessage"),a("upload.errorTitle"),3e3):n.errorPermissions&&A.NotificationManager.error(a("upload.errorPermissionsMessage"),a("upload.errorTitle"),3e3);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("section",{"data-testid":"uploadTrackTest"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,a("upload.title"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",null,a("upload.uploadPrompt")),r.a.createElement("input",{"data-testid":"input-file-area",type:"file",id:"fileArea",accept:"application/json",multiple:!0})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(V.a,{"data-testid":"btnUpload",onClick:function(){return n.apply(this,arguments)}},a("upload.button")))),r.a.createElement(A.NotificationContainer,null)))},ae=function(){return r.a.createElement(te,{service:new ee})},ne=a(1230),re=a(1231),se=a(1226),ie=a(564),ce=(a(749),a(1208)),oe=a(557),le=a(176),ue=function(){var e=Object(D.b)().t;return r.a.createElement("section",{"data-testid":"navTest"},r.a.createElement(ne.a,{className:"nav-color"},r.a.createElement("a",{className:"navbar-brand a-bar a-logo",href:"#/"},r.a.createElement("img",{src:"/viade_es1c/img/logoViaDe.svg",width:"100",height:"45",alt:"ViaDe icon"})),r.a.createElement(re.a,{className:"mr-auto"},r.a.createElement("a",{id:"navBarVisualize","data-tip":e("navBar.maps"),className:"navbar-link a-bar",href:"#/visualize"},r.a.createElement("img",{src:"/viade_es1c/img/icon/maps-icon.png",width:"40",height:"40",alt:"My tracks"})),r.a.createElement("a",{id:"navBarShare","data-tip":e("navBar.share-files"),className:"navbar-link a-bar",href:"#/share"},r.a.createElement("img",{src:"/viade_es1c/img/icon/share-files.svg",width:"27",height:"49",alt:"Share files"})),r.a.createElement("a",{id:"navBarFriends","data-tip":e("navBar.friends"),className:"navbar-link a-bar",href:"#/friends"},r.a.createElement("img",{src:"/viade_es1c/img/icon/friends-icon.png",width:"38",height:"40",alt:"My friends"})),r.a.createElement("a",{id:"navBarNotifications","data-tip":e("navBar.notifications"),className:"navbar-link a-bar",href:"#/notifications"},r.a.createElement("img",{src:"/viade_es1c/img/icon/notification-icon.svg",width:"26",height:"44",alt:"Notifications"})),r.a.createElement("a",{id:"navBarUpload","data-tip":e("navBar.upload"),className:"navbar-link a-bar",href:"#/upload"},r.a.createElement("img",{src:"/viade_es1c/img/icon/upload-icon.png",width:"40",height:"40",alt:"Upload track"})),r.a.createElement("a",{id:"navBarDownload","data-tip":e("navBar.download"),className:"navbar-link a-bar a-download",href:"#/download"},r.a.createElement("img",{src:"/viade_es1c/img/icon/download-icon.svg",width:"31",height:"25",alt:"Download track"})),r.a.createElement("div",{className:"i18nMenu"},r.a.createElement(se.a,{id:"btnLanguage",className:"i18nMenu",variant:"light",title:e("nav.language")},r.a.createElement(ie.a,null,r.a.createElement("div",{id:"btnEng",onClick:function(){return le.a.changeLanguage("en")}}," ENG ")),r.a.createElement(ie.a,null,r.a.createElement("div",{id:"btnEsp",onClick:function(){return le.a.changeLanguage("es")}}," ESP ")))),r.a.createElement(ce.a,{id:"logoutButton",className:"logout btn btn-light"},e("logout.button")),r.a.createElement(oe.a,{place:"bottom",type:"dark",effect:"solid"}))))},de=(a(756),a(1209));a(757);function me(e){var t=e.src,a=e.nameList,n=e.nameCk,s=e.offset,i=void 0===s?0:s,c=e.limit,o=void 0===c?1/0:c,l=e.filter,u=void 0===l?function(){return!0}:l,d=e.container,m=void 0===d?function(e){return r.a.createElement("ul",{"data-testid":"friendsList",className:"ul-format"},e)}:d,p=e.children,h=void 0===p?function(e,t){return r.a.createElement("li",{name:String(a),key:t},"".concat(e),r.a.createElement("input",{id:"friendElementInput","data-testid":"_".concat(String(t)),name:String(n),className:"ck",type:"checkbox"}))}:p,f=Object(de.a)(t).filter(u).slice(i,+i+ +o).map(h);return m?m(f):f}var pe,he,fe=a(74),be=a(96),ve=a.n(be),ge=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).user=null,e.friends=[],e.error=null,e.errorLoad=null,e.successShare=!1,e.warning=!1,e.success=null,e.urlRouteInPod=null,e.routes=[],e.userFriend="",e.HTMLElement=null,e.content=null,e.session=null,e.webId=null,e.urlRouteInOtherPod=null,e.urlToCopy=null,e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getPodRoute",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(f.a)(t.prototype),"getSession",this).call(this);case 2:this.urlRouteInPod=this.webId.slice(0,this.webId.length-this.viadeRoute).concat("viade/routes/"),this.urlToCopy=this.webId.slice(0,this.webId.length-this.viadeRoute).concat("public/"),null!==this.HTMLElement&&(a=this.HTMLElement.value.concat(".json"),this.urlRouteInPod=this.urlRouteInPod.concat(a),this.urlToCopy=this.urlToCopy.concat(a));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRoutesFromPod",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPodRoute();case 2:return t=new k.a(E.a),e.prev=3,e.next=6,t.readFolder(this.urlRouteInPod,null);case 6:return this.content=e.sent,e.next=9,this.getRoutesNames(this.content,this.extension,this.routes);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.errorLoad="Error al cargar combo";case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"upload",value:function(){var e=Object(d.a)(u.a.mark((function e(a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.itemExists(n);case 3:if(e.t0=e.sent,!0!==e.t0){e.next=32;break}return e.next=7,Object(b.a)(Object(f.a)(t.prototype),"readPermission",this).call(this,n);case 7:if(!0!==e.sent){e.next=29;break}return r=this.HTMLElement.value.concat(""),this.urlRouteInOtherPod=n.concat(r),e.next=13,a.itemExists(this.urlRouteInOtherPod.concat(".json"));case 13:if(e.t1=e.sent,!1!==e.t1){e.next=26;break}return e.prev=15,e.next=18,a.postFile(this.urlRouteInOtherPod,this.content,"application/json");case 18:this.successShare=!0,e.next=24;break;case 21:e.prev=21,e.t2=e.catch(15),this.error="Error en el create";case 24:e.next=27;break;case 26:this.warning=!0;case 27:e.next=30;break;case 29:this.error="Permisos denegados";case 30:e.next=33;break;case 32:this.error="Carpeta no encontrada";case 33:e.next=38;break;case 35:e.prev=35,e.t3=e.catch(0),this.error="Permisos denegados";case 38:case"end":return e.stop()}}),e,this,[[0,35],[15,21]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeCopiedTrack",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.delete(this.urlToCopy);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),409===e.t0.status||301===e.t0.status?this.error="Esta borrando una carpeta":404===e.t0.status?this.error="No existe el fichero a borrar":this.error="Otro error";case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"shareTrack",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userFriend=t,this.HTMLElement=a,e.next=4,this.getPodRoute();case 4:return n=new k.a(E.a),e.next=7,n.readFile(this.urlRouteInPod,null);case 7:return this.content=e.sent,e.prev=8,e.next=11,n.createFile(this.urlToCopy,this.content,"text/turtle",{});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),this.error="Mis permisos fallan",e.abrupt("return");case 17:return r=this.userFriend.slice(0,this.userFriend.length-this.viadeRoute).concat("viade/shared/"),e.next=20,this.upload(n,r);case 20:return e.next=22,this.removeCopiedTrack(n);case 22:case"end":return e.stop()}}),e,this,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getName",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a[t].name;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),Ee=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).groupName=null,e.urlRouteInPod="",e.groupJsonContent="",e.success=!1,e.folderContent=null,e.warning=!1,e.groupsNames=[],e.errorLoad=null,e.groupFriends=[],e.content="",e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getPodRoute",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(f.a)(t.prototype),"getSession",this).call(this);case 2:this.urlRouteInPod=this.webId.slice(0,this.webId.length-this.viadeRoute).concat("viade/groups/"),null!==this.groupName&&(a=this.groupName.concat(".json"),this.urlRouteInPod=this.urlRouteInPod.concat(a));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateJsonld",value:function(e){var t={"@context":{"@version":1.1,users:{"@container":"@list","@id":"schema:Person"},name:{"@id":"schema:name","@type":"xs:string"},url:{"@id":"schema:url","@type":"xs:string"},schema:"http://schema.org/",xsd:"http://www.w3.org/2001/XMLSchema#"}};t.name=this.groupName;for(var a=[],n=0;n<e.length;n++)a.push({url:e[parseInt(n,10)]});t.users=a,this.groupJsonContent=JSON.stringify(t)}},{key:"create",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.groupName=t,e.next=3,this.getPodRoute();case 3:return this.generateJsonld(a),n=new k.a(E.a),e.prev=5,e.next=8,n.createFile(this.urlRouteInPod,this.groupJsonContent,"text/turtle",{});case 8:this.success=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),this.success=!1;case 14:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getGroups",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPodRoute();case 2:return t=new k.a(E.a),e.prev=3,e.next=6,t.readFolder(this.urlRouteInPod,null);case 6:if(this.folderContent=e.sent,0===this.folderContent.length)this.warning="No hay grupos";else for(a=0;a<this.folderContent.files.length;a++)this.groupsNames.push(this.folderContent.files[parseInt(a,10)].name.slice(0,this.folderContent.files[parseInt(a,10)].name.length-5));e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.errorLoad="Error al cargar lista de grupos";case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"obtainUrls",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=JSON.parse(this.content),a=t.users.length,n=0;n<a;n++)r=t.users[parseInt(n,10)].url,this.groupFriends.push(r);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFriendsWebIds",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPodRoute();case 2:return a=this.urlRouteInPod.concat(t).concat(".json"),n=new k.a(E.a),e.next=6,n.readFile(a,null);case 6:return this.content=e.sent,e.next=9,this.obtainUrls();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w),xe=(a(1145),function(e){var t=e.groups;return r.a.createElement("ul",{"data-testid":"groupList",className:"ul-format"},t.map((function(e,t){return r.a.createElement("li",{name:"groupList",key:t},"".concat(e),r.a.createElement("input",{"data-testid":"_".concat(String(t)),name:"group",className:"ck",type:"checkbox"}))})))}),ke=0,we=function(e){var t=e.myWebId,a=e.service,s=e.gService,i=Object(D.b)().t,c=Object(n.useState)([]),o=Object(j.a)(c,2),l=o[0],m=o[1],p=Object(n.useState)([]),h=Object(j.a)(p,2),f=h[0],b=h[1],v=Object(n.useState)(!1),g=Object(j.a)(v,2),E=g[0],x=g[1],k=Object(n.useState)(!0),w=Object(j.a)(k,2),y=w[0],O=w[1],N=t,I=Object(fe.useNotification)(N),T=I.createNotification,M=I.discoverInbox,P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:if(a=e.sent){e.next=6;break}throw new Error("Inbox not found");case 6:n=document.getElementById("selectRoute"),T({title:"Share notification",summary:"Your friend: ".concat(N).concat(", shared this track with you: ").concat(n.value),actor:N},a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),A.NotificationManager.error(i("notifications.notificationErrorMessage"),i("notifications.notificationErrorTitle"),3e3);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();function C(e){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(t){var n,r,s,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("selectRoute"),!(t.length>0&&0!==n.value.localeCompare(""))){e.next=26;break}r=null,s=null,c=a,o=0;case 6:if(!(o<t.length)){e.next=24;break}return r=t[parseInt(o,10)],c instanceof ge&&(c=new ge),e.next=11,c.getName(r);case 11:return s=e.sent,e.next=14,c.shareTrack(t[parseInt(o)],n);case 14:if(!0!==c.successShare){e.next=20;break}return A.NotificationManager.success(i("share.successShareMessage").concat(s),i("share.successShareTitle"),2e3),e.next=18,P(r);case 18:e.next=21;break;case 20:!0===c.warning?A.NotificationManager.warning(i("share.warningShareMessage").concat(s),i("share.warningShareTitle"),5e3):"Error en el create"===c.error?A.NotificationManager.error(i("share.errorCreateMessage").concat(s),i("share.errorCreateTitle"),5e3):"Permisos denegados"===c.error?A.NotificationManager.error(i("share.errorPermissionMessage").concat(s),i("share.errorPermissionTitle"),5e3):"Carpeta no encontrada"===c.error?A.NotificationManager.error(i("share.errorFriendsFolder").concat(s),i("share.errorCreateTitle"),5e3):"Mis permisos fallan"===c.error?A.NotificationManager.error(i("share.errorMyPermissionsMessage").concat(s),i("share.errorCreateTitle"),5e3):A.NotificationManager.warning(i("share.warningDeleteMessage").concat(s),i("share.warningDeleteTitle"),5e3);case 21:o++,e.next=6;break;case 24:e.next=27;break;case 26:0===t.length?A.NotificationManager.error(i("share.errorFriends"),i("share.errorFriendsTitle"),5e3):A.NotificationManager.error(i("share.errorEmptyTracks"),i("share.errorFriendsTitle"),5e3);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(d.a)(u.a.mark((function e(){var t,a,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementsByName("listFriend"),a=document.getElementsByName("myFriend"),n=!1,r=[],0===he.localeCompare("radio-2")&&(s instanceof Ee&&(s=new Ee),n=!0,t=document.getElementsByName("groupList"),a=document.getElementsByName("group")),i=0;case 6:if(!(i<a.length)){e.next=17;break}if(!n){e.next=13;break}if(!a[parseInt(i,10)].checked){e.next=11;break}return e.next=11,s.getFriendsWebIds(t[parseInt(i,10)].innerText);case 11:e.next=14;break;case 13:a[parseInt(i,10)].checked&&r.push(t[parseInt(i,10)].innerText);case 14:i++,e.next=6;break;case 17:return n&&s.groupFriends.length>0&&(r=s.groupFriends),e.next=20,C(r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return H.apply(this,arguments)}function H(){return(H=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,e.next=3,t.getRoutesFromPod();case 3:null===t.errorLoad?m(t.routes):0===ke&&(A.NotificationManager.warning(i("share.warningLoadMessage"),i("share.warningLoadTitle"),3e3),ke++);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s instanceof Ee&&(s=new Ee),e.next=3,s.getGroups();case 3:null===s.errorLoad&&b(s.groupsNames);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){"undefined"!==typeof he&&(0===he.localeCompare("radio-1")?document.getElementById("radio-1").checked=!0:0===he.localeCompare("radio-2")&&(document.getElementById("radio-2").checked=!0))}function G(){return(G=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===document.getElementById("radio-1").checked?(he="radio-1",pe=!0):(he="radio-2",pe=!1),0!==l.length){e.next=4;break}return e.next=4,L();case 4:if(!pe){e.next=8;break}O(!0),e.next=11;break;case 8:return e.next=10,U();case 10:O(!1);case 11:x(!0),z();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("section",{"data-testid":"shareTrackTest"},r.a.createElement("div",{className:"modal-div-cont"},r.a.createElement("div",{className:"modal-cont"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,i("share.title")),r.a.createElement("hr",null)),r.a.createElement("div",{className:"main-content"},r.a.createElement("span",null,i("share.createSharePrompt")),r.a.createElement(F.a,{className:"myRow"},r.a.createElement("label",{className:"radio-format",name:"filter-label"},r.a.createElement("input",{"data-testid":"radio-1",name:"filter-radio",id:"radio-1",type:"radio",checked:!0,onChange:z}),i("share.friend")),r.a.createElement("label",{className:"radio-format",name:"filter-label"},r.a.createElement("input",{"data-testid":"radio-2",name:"filter-radio",id:"radio-2",type:"radio",onChange:z}),i("share.group"))),r.a.createElement(V.a,{id:"btnLoad","data-testid":"btnLoad",className:"correct-margin-top",onClick:function(){return G.apply(this,arguments)}},i("share.loadInfo"))),E&&r.a.createElement("form",{className:"modal-body"},r.a.createElement("div",null,r.a.createElement("label",{className:"lab"},i("share.idLabel")),r.a.createElement(_,{className:"select-share",id:"selectRoute",options:l})),r.a.createElement(F.a,{className:"myRow"},y&&r.a.createElement(B.a,null,r.a.createElement("div",{className:"list-friends"},r.a.createElement("h4",{className:"h4-format"},i("share.friends")),r.a.createElement(me,{src:"user.friends",nameList:"listFriend",nameCk:"myFriend"}))),!y&&r.a.createElement(B.a,null,r.a.createElement("div",{className:"list-groups"},r.a.createElement("h4",{className:"h4-format"},i("share.groups")),r.a.createElement(xe,{groups:f})))),r.a.createElement("div",null,r.a.createElement(V.a,{id:"btnShare","data-testid":"btnShare",className:"correct-margin",onClick:function(){return S.apply(this,arguments)}},i("share.shareTrack")))))),r.a.createElement(A.NotificationContainer,null))},ye=function(){var e=Object(fe.useWebId)();return r.a.createElement(we,{myWebId:e,service:new ge,gService:new Ee})},je=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).error=null,e.HTMLElementDown=null,e.HTMLElementUrlValue=null,e.urlRouteInPod="",e.webId="",e.routes=[],e.extension=null,e.warning=null,e.errorLoad=!1,e.success=null,e.content="",e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getPodRoute",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(f.a)(t.prototype),"getSession",this).call(this);case 2:this.urlRouteInPod=this.webId.slice(0,this.webId.length-this.viadeRoute).concat("viade/routes/"),null!==this.HTMLElementUrlValue&&(a=this.HTMLElementUrlValue.concat(".json"),this.urlRouteInPod=this.urlRouteInPod.concat(a));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadTrack",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new k.a(E.a),e.next=3,a.readFile(this.urlRouteInPod);case 3:n=e.sent,r=new Blob([n],{type:"application/json"}),(s=this.HTMLElementDown).href=URL.createObjectURL(r),s.download=t+".json",s.click();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchTrack",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.HTMLElementUrlValue=t,this.HTMLElementDown=a,e.next=4,this.getPodRoute();case 4:return e.prev=4,e.next=7,this.downloadTrack(this.HTMLElementUrlValue);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),this.error="Error al descargar";case 12:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getRoutesFromPod",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPodRoute();case 2:return a=new k.a(E.a),e.prev=3,e.next=6,a.readFolder(this.urlRouteInPod,null);case 6:return this.content=e.sent,e.next=9,Object(b.a)(Object(f.a)(t.prototype),"getRoutesNames",this).call(this,this.content,this.extension,this.routes);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.errorLoad=!0;case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()}]),t}(w),Oe=(a(1146),function(e){var t=e.service,a=Object(D.b)().t,s=Object(n.useState)([]),i=Object(j.a)(s,2),c=i[0],o=i[1];function l(){return(l=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t)instanceof je&&(n=new je),e.next=4,n.getRoutesFromPod();case 4:null!==n.warning?A.NotificationManager.warning(a("download.loadWarningMessage"),a("download.loadWarningTitle"),3e3):n.errorLoad?A.NotificationManager.error(a("download.errorLoadMessage"),a("download.errorLoadTitle"),3e3):(A.NotificationManager.success(a("download.successLoadMessage"),a("download.successLoadTitle"),2e3),o(n.routes));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t)instanceof je&&(n=new je),e.next=4,n.searchTrack(document.getElementById("selectRoute").value,document.getElementById("downFile"));case 4:null!==n.error&&A.NotificationManager.error(a("download.errorMessage"),a("download.errorTitle"),5500);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("section",{"data-testid":"downloadComp"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",{id:"downloadTitle","data-testid":"titleDownloadh2"},a("download.title"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(V.a,{id:"btnLoadTracksDownload","data-testid":"btnLoadTracks",className:"loadButton",onClick:function(){return l.apply(this,arguments)}},a("download.buttonLoad")),r.a.createElement("h4",{"data-testid":"instruction",placeholder:"e.g. track1"},a("download.instruction")),r.a.createElement(_,{"data-testid":"combo",className:"select-load-format",id:"selectRoute",options:c}),r.a.createElement("br",null)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"/download",id:"downFile"}," "),r.a.createElement(V.a,{id:"btnDownload","data-testid":"btnDownload",onClick:function(){return m.apply(this,arguments)}}," ",a("download.button"))))),r.a.createElement(A.NotificationContainer,null))}),Ne=function(){return r.a.createElement(Oe,{service:new je})},Ie=(a(1147),a(1210)),Te=function(){var e=Object(D.b)().t;return r.a.createElement("section",{id:"welcomeTest"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("img",{className:"myImg",src:"/viade_es1c/img/logoViaDe.svg",alt:"Logo ViaDe"})),r.a.createElement("div",{className:"col-sm value-format"},r.a.createElement("h1",{className:"h1-welcome",id:"h1-welcome"},e("welcome.welcome")),r.a.createElement(Ie.a,{src:"user.name"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("h2",{id:"h2-welcome",className:"myH2"},e("welcome.title")),r.a.createElement("ul",{className:"welcomeLinks"},r.a.createElement("li",null,e("welcome.presentation")),r.a.createElement("li",{id:"linkDoc",className:"welcomeLinkDocs"},r.a.createElement("a",{href:"https://arquisoft.github.io/viade_es1c/docs/"},e("welcome.documentation"))),r.a.createElement("li",{id:"linkBuild",className:"welcomeLinksViade"},r.a.createElement("a",{href:"https://github.com/Arquisoft/viade_es1c"},e("welcome.repository"))))))))},Me=a(1211),Pe=(a(1148),function(){var e=Object(D.b)().t,t="url(".concat("/viade_es1c").concat("/img/background-image.jpg").concat(")");return r.a.createElement("div",{id:"loginPane",style:{background:t,backgroundRepeat:"no-repeat",height:"100vh",width:"100vw",backgroundPosition:"center",backgroundSize:"cover"}},r.a.createElement("div",{className:"Login"},r.a.createElement("h2",{className:"loginTitle"},e("login.title")),r.a.createElement("div",null,r.a.createElement(Me.a,{className:"btn btn-primary a-solid button-login",popup:"https://solid.github.io/solid-auth-client/dist/popup.html"},e("login.formButtonText"))),r.a.createElement("a",{id:"linkGetAPod",href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},e("login.solidHelp"))))}),Ce=a(1212),Re=a(1225),Se=a(1214),Le=a(1216),Fe=a(1217),Be=a(1218),Ve=a(1219),De=a(1220),He=a(1221),Ue=a(1223),We=a(569),_e=a.n(We),Ae=a(1229),ze=a(573),Ge=(a(1149),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).error=!1,e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"checkContent",value:function(){var e=Object(d.a)(u.a.mark((function e(a){var n,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(f.a)(t.prototype),"getSession",this).call(this);case 2:return n=new k.a(E.a),e.prev=3,e.next=6,n.readFolder(a,null);case 6:r=e.sent,s=0;case 8:if(!(s<r.files.length)){e.next=20;break}if(this.extension=r.files[parseInt(s,10)].name.split("."),0!==this.extension[this.extension.length-1].localeCompare("ttl")){e.next=17;break}return e.next=13,n.readFile(a.concat(r.files[parseInt(s)].name),null);case 13:if(i=e.sent,!String(i).includes("summary")){e.next=17;break}return e.abrupt("return",!0);case 17:s++,e.next=8;break;case 20:return e.abrupt("return",!1);case 23:e.prev=23,e.t0=e.catch(3),this.error=!0;case 26:case"end":return e.stop()}}),e,this,[[3,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"formatDates",value:function(e){var t=e.split("T"),a=t[0].concat("\n"),n=t[1].slice(0,t[1].length-1);return a.concat(n)}}]),t}(w)),Je=0,qe=!0,Xe=function(e){var t=e.myWebId,a=e.service,s=Object(D.b)().t,i=Object(n.useState)([]),c=Object(j.a)(i,2),o=c[0],l=c[1],m=Object(n.useState)(0),p=Object(j.a)(m,2),h=p[0],f=p[1],b=Object(n.useState)(3),v=Object(j.a)(b,2),g=v[0],E=v[1],x=Object(n.useState)(!1),k=Object(j.a)(x,2),w=k[0],y=k[1],O=Object(Ce.a)({table:{minWidth:200}})(),N=t,I=Object(fe.useNotification)(N),T=I.notification,M=I.fetchNotification,P=Object(n.useState)(!1),C=Object(j.a)(P,2),R=C[0],S=C[1];function L(e,t,a){return{N:e,Notification:t,Time:a}}function F(){return(F=Object(d.a)(u.a.mark((function e(){var t,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof N||null===N){e.next=17;break}return t=N.replace("/profile/card#me","/inbox/"),n=[{path:t,inboxName:"Global Inbox",shape:"default"}],a instanceof Ge&&(a=new Ge),e.next=6,a.checkContent(t);case 6:if(e.t1=e.sent,e.t0=!0===e.t1,!e.t0){e.next=10;break}e.t0=!a.error;case 10:if(!e.t0){e.next=15;break}return e.next=13,M(n);case 13:e.next=16;break;case 15:S(!0);case 16:if(T.notifications.length>0&&qe){for(r=[],i=0;i<T.notifications.length;i++)r.push(L(i+1,T.notifications[parseInt(i,10)].summary,a.formatDates(T.notifications[parseInt(i,10)].published)));l(r),y(!0),0===Je&&(Je++,A.NotificationManager.info(s("notifications.infoMessage1").concat(r.length).concat(s("notifications.infoMessage2")),s("notifications.infoTitle"),3e3))}case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B,H=(B=Re.a,function(e){var t=e.isLoading,a=Object(W.a)(e,["isLoading"]);return t?r.a.createElement("div",{align:"center"},r.a.createElement(_e.a,{type:"spin",color:"#5FB0FF",height:"10%",width:"10%"}),r.a.createElement("br",null),r.a.createElement("p",null,s("notifications.loadingNotifications"))):r.a.createElement(B,a)});return Object(n.useEffect)((function(){!function(){F.apply(this,arguments)}()})),r.a.createElement("div",{"data-testid":"notificationTableComp"},!w&&!R&&r.a.createElement(H,{isLoading:!w}),w&&!R&&r.a.createElement("div",null,r.a.createElement(Ae.a,{"data-testid":"searchForm",className:"searcher",inline:!0},r.a.createElement(ze.a,{type:"text",placeholder:"e.g. user1",className:"mr-sm-2",id:"searchInput"}),r.a.createElement(V.a,{"data-testid":"btnSearch",variant:"primary",onClick:function(){if(T.notifications.length>0){var e=document.getElementById("searchInput").value;if(0!==e.localeCompare("")){a instanceof Ge&&(a=new Ge);for(var t=[],n=0;n<T.notifications.length;n++)T.notifications[parseInt(n)].summary.toUpperCase().includes(e.toUpperCase())&&(qe=!1,t.push(L(n+1,T.notifications[parseInt(n,10)].summary,a.formatDates(T.notifications[parseInt(n,10)].published))));0===t.length&&(qe=!1,A.NotificationManager.error(s("notifications.errorMessage"),s("notifications.errorTitle"),3e3)),l(t)}else qe=!0}}},s("notifications.searchButton"))),r.a.createElement(Se.a,{component:Le.a},r.a.createElement(Fe.a,{className:O.table,size:"small","aria-labelledby":"tableTitle","aria-label":"enhanced table"},r.a.createElement(Be.a,null,r.a.createElement(Ve.a,null,r.a.createElement(De.a,null,"N\xba"),r.a.createElement(De.a,{align:"right"},s("notifications.value")),r.a.createElement(De.a,{align:"right"},s("notifications.time")))),r.a.createElement(He.a,null,(g>0?o.slice(h*g,h*g+g):o).map((function(e,t){return r.a.createElement(Ve.a,{hover:!0,tabIndex:-1,key:t},r.a.createElement(De.a,{name:"notificationList"},e.N),r.a.createElement(De.a,{align:"right"},e.Notification),r.a.createElement(De.a,{align:"right"},e.Time))}))))),r.a.createElement(Ue.a,{rowsPerPageOptions:[3,6,12],component:"div",count:o.length,rowsPerPage:g,page:h,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),f(0)}}),r.a.createElement("br",null)),R&&r.a.createElement("u",{"data-testid":"errorMessage"},s("notifications.problemLoading")),r.a.createElement(A.NotificationContainer,null))},Ye=(a(1150),function(){var e=Object(D.b)().t,t=Object(fe.useWebId)();return r.a.createElement("section",null,r.a.createElement("div",{className:"modal-div"},r.a.createElement("div",{className:"modal-appearance"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,e("notifications.title"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(Xe,{myWebId:t,service:new Ge})))))}),Ke=a(1235),Qe=a(1236),Ze=(a(1151),function(e){var t=e.myWebId,a=e.service,n=Object(D.b)().t,s=t,i=Object(fe.useNotification)(s),c=i.createNotification,o=i.discoverInbox,l=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t);case 3:if(r=e.sent){e.next=6;break}throw new Error("Inbox not found");case 6:c({title:"Friend notification",summary:a,actor:s},r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),A.NotificationManager.error(n("notifications.notificationErrorMessage"),n("notifications.notificationErrorTitle"),3e3);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}();function m(){return(m=Object(d.a)(u.a.mark((function e(){var t,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a,r=document.getElementById("friendId").value,e.next=4,t.check(r);case 4:if(i=e.sent,"undefined"===typeof r){e.next=29;break}return e.next=8,t.exists(r);case 8:if(e.t0=e.sent,!e.t0){e.next=11;break}e.t0=0!==r.localeCompare("");case 11:if(!e.t0){e.next=28;break}if(!i){e.next=16;break}A.NotificationManager.error(n("friends.checkErrorMessage"),n("friends.addErrorTitle"),3e3),e.next=26;break;case 16:return e.next=18,t.add(r);case 18:if(t.errorAdd){e.next=25;break}return c="User: ".concat(s).concat(", added you to his/her friend list"),e.next=22,l(r,c);case 22:window.location.reload(!0),e.next=26;break;case 25:A.NotificationManager.error(n("friends.permissionsErrorMessage"),n("friends.addErrorTitle"),3e3);case 26:e.next=29;break;case 28:A.NotificationManager.error(n("friends.addErrorMessage"),n("friends.addErrorTitle"),3e3);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(d.a)(u.a.mark((function e(){var t,r,i,c,o,d,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a,r=document.getElementsByName("friendList"),i=document.getElementsByName("friend"),c=[],o=0;o<i.length;o++)i[parseInt(o)].checked&&c.push(r[parseInt(o)].innerText);if(!("undefined"!==typeof c&&c.length>0)){e.next=23;break}d=0;case 7:if(!(d<c.length)){e.next=21;break}return e.next=10,t.delete(c[parseInt(d)]);case 10:if(t.errorDelete){e.next=17;break}return m="User: ".concat(s).concat(", deleted you from his/her friend list"),e.next=14,l(c[parseInt(d)],m);case 14:window.location.reload(!0),e.next=18;break;case 17:A.NotificationManager.error(n("friends.permissionsErrorMessage"),n("friends.deleteErrorTitle"),3e3);case 18:d++,e.next=7;break;case 21:e.next=24;break;case 23:A.NotificationManager.error(n("friends.deleteErrorMessage"),n("friends.deleteErrorTitle"),3e3);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{"data-testid":"friendsTest"},r.a.createElement("div",{className:"modal-app"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,n("friends.title")),r.a.createElement("hr",null)),r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",{className:"span-friends"},n("friends.addTitle")),r.a.createElement("div",{className:"add-friends"},r.a.createElement("input",{"data-testid":"input-add",className:"input-add",id:"friendId",type:"text",placeholder:"e.g. https://user.solid.community/profile/card#me"}),r.a.createElement(V.a,{id:"btnAdd","data-testid":"btnAddFriend",className:"correct-margin",onClick:function(){return m.apply(this,arguments)}},n("friends.add"))),r.a.createElement("br",null),r.a.createElement("span",{className:"span-friends"},n("friends.deleteTitle")),r.a.createElement("div",{className:"list-friends"},r.a.createElement(me,{src:"user.friends",nameList:"friendList",nameCk:"friend"})),r.a.createElement("div",null,r.a.createElement(V.a,{id:"deleteFriend","data-testid":"btnDeleteFriend",className:"correct-margin",onClick:function(){return p.apply(this,arguments)}},n("friends.delete"))))),r.a.createElement(A.NotificationContainer,null))}),$e=(a(1152),function(e){var t=e.myWebId,a=e.service,n=Object(D.b)().t,s=t,i=Object(fe.useNotification)(s),c=i.createNotification,o=i.discoverInbox,l=[];function m(e){document.getElementById("groupId").value="";for(var t=0;t<e.length;t++)e[parseInt(t)].checked&&(e[parseInt(t)].checked=!1)}var p=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(l.length>0)){e.next=13;break}a=0;case 3:if(!(a<l.length)){e.next=13;break}return e.next=6,o(l[parseInt(a)]);case 6:if(r=e.sent){e.next=9;break}throw new Error("Inbox not found");case 9:c({title:"Group notification",summary:t,actor:s},r);case 10:a++,e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),A.NotificationManager.error(n("notifications.notificationErrorMessage"),n("notifications.notificationErrorTitle"),3e3);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();function h(){return(h=Object(d.a)(u.a.mark((function e(){var t,r,i,c,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((t=a)instanceof Ee&&(t=new Ee),r=document.getElementById("groupId").value,i=document.getElementsByName("friendListGroup"),c=document.getElementsByName("friendGroup"),o=0;o<c.length;o++)c[parseInt(o)].checked&&l.push(i[parseInt(o)].innerText);if(!("undefined"!==typeof r&&l.length>0)){e.next=25;break}if(0===r.localeCompare("")){e.next=22;break}return e.next=10,t.create(r,l);case 10:if(!0!==t.success){e.next=19;break}return A.NotificationManager.success(n("groups.createSuccessMessage1").concat(r).concat(n("groups.createSuccessMessage2")),n("groups.createSuccessTitle"),3e3),d="User: ".concat(s).concat(", added you to his/her group: ").concat(r),e.next=15,p(d);case 15:l=[],m(c),e.next=20;break;case 19:A.NotificationManager.error(n("groups.permissionsErrorMessage"),n("groups.createErrorTitle"),3e3);case 20:e.next=23;break;case 22:A.NotificationManager.error(n("groups.createErrorMessage"),n("groups.createErrorTitle"),3e3);case 23:e.next=26;break;case 25:A.NotificationManager.error(n("groups.createErrorMessage"),n("groups.createErrorTitle"),3e3);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{"data-testid":"groupTest"},r.a.createElement("div",{className:"modal-app"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,n("groups.title")),r.a.createElement("hr",null)),r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",{className:"span-friends"},n("groups.addTitle")),r.a.createElement("div",{className:"add-groups"},r.a.createElement("input",{"data-testid":"input-create-group",className:"input-add",id:"groupId",type:"text",placeholder:"e.g. trekking"})),r.a.createElement("br",null),r.a.createElement("span",{className:"span-friends-group"},n("groups.addToGroupTitle")),r.a.createElement("div",{className:"list-friends"},r.a.createElement(me,{src:"user.friends",nameList:"friendListGroup",nameCk:"friendGroup"})),r.a.createElement("div",null,r.a.createElement(V.a,{"data-testid":"btnCreateGroup",className:"correct-margin",onClick:function(){return h.apply(this,arguments)}},n("groups.add"))))),r.a.createElement(A.NotificationContainer,null))}),et=a(83),tt=function(){function e(){Object(m.a)(this,e),this.webId="",this.errorAdd=!1,this.errorDelete=!1,this.errorRequest=null}return Object(p.a)(e,[{key:"add",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(31),e.next=3,n.trackSession((function(e){e&&(r.webId=e.webId)}));case 3:return e.prev=3,e.next=6,ve.a[this.webId].knows.add(ve.a[t]);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.errorAdd=!0;case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(31),e.next=3,n.trackSession((function(e){e&&(r.webId=e.webId)}));case 3:return e.prev=3,e.next=6,ve.a[this.webId].knows.delete(ve.a[t]);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.errorDelete=!0;case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,s,i,c,o,l,d=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(31),e.next=3,n.trackSession((function(e){e&&(d.webId=e.webId)}));case 3:r=!0,s=!1,e.prev=5,c=Object(et.a)(ve.a[this.webId].friends);case 7:return e.next=9,c.next();case 9:return o=e.sent,r=o.done,e.next=13,o.value;case 13:if(l=e.sent,r){e.next=23;break}if(0!==String(l).localeCompare(String(t))){e.next=20;break}return e.next=19,!0;case 19:return e.abrupt("return",e.sent);case 20:r=!0,e.next=7;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(5),s=!0,i=e.t0;case 29:if(e.prev=29,e.prev=30,r||null==c.return){e.next=34;break}return e.next=34,c.return();case 34:if(e.prev=34,!s){e.next=37;break}throw i;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.next=41,!1;case 41:return e.abrupt("return",e.sent);case 42:case"end":return e.stop()}}),e,this,[[5,25,29,39],[30,,34,38]])})));return function(t){return e.apply(this,arguments)}}()},{key:"exists",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkOrigin(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkOrigin",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.itemExists(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,this.obtainSessionFc();case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t2=e.catch(0),this.errorRequest="Error en la request al webId";case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"obtainSessionFc",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.a(E.a),e.next=3,E.a.currentSession();case 3:if(e.sent){e.next=8;break}return e.next=7,E.a.login();case 7:e.sent;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),at=function(){var e=Object(fe.useWebId)();return r.a.createElement("section",{"data-testid":"friendsTest",style:{overflowX:"hidden"}},r.a.createElement(F.a,null,r.a.createElement(B.a,null,r.a.createElement(Ze,{myWebId:e,service:new tt})),r.a.createElement(B.a,null,r.a.createElement($e,{myWebId:e,service:new Ee}))))};function nt(){return r.a.createElement(c.a,null,r.a.createElement(Ke.a,null,r.a.createElement(ue,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:Te}),r.a.createElement(o.b,{exact:!0,path:"/welcome",component:Te}),r.a.createElement(o.b,{exact:!0,path:"/visualize",component:$}),r.a.createElement(o.b,{exact:!0,path:"/upload",component:ae}),r.a.createElement(o.b,{exact:!0,path:"/share",component:ye}),r.a.createElement(o.b,{exact:!0,path:"/friends",component:at}),r.a.createElement(o.b,{exact:!0,path:"/download",component:Ne}),r.a.createElement(o.b,{exact:!0,path:"/notifications",component:Ye}),r.a.createElement(o.a,{to:"/"}))),r.a.createElement(Qe.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:Pe}),r.a.createElement(o.b,{exact:!0,path:"/login",component:Pe}),r.a.createElement(o.a,{to:"/"}))))}var rt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(nt,null))},st=a(576),it=a.n(st),ct=a(577),ot=a.n(ct),lt=new it.a(null,{loadPath:"locales/{{lng}}/{{ns}}.json"});le.a.use(lt).use(ot.a).use(D.a).init({fallbackLng:"en",debug:!1,whitelist:["en","es"],react:{wait:!0,useSuspense:!1}});le.a;i.a.render(r.a.createElement(rt,null),document.getElementById("root"))},589:function(e,t,a){e.exports=a(1166)},594:function(e,t,a){},595:function(e,t,a){},642:function(e,t,a){},748:function(e,t,a){},749:function(e,t,a){},756:function(e,t,a){},757:function(e,t,a){},790:function(e,t){},792:function(e,t){},830:function(e,t){},877:function(e,t){},878:function(e,t){}},[[589,1,2]]]);
//# sourceMappingURL=main.d5231026.chunk.js.map